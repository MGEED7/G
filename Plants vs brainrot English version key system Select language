-- خدمات اللاعب
local Players = game:GetService("Players")
local TweenService = game:GetService("TweenService")
local Player = Players.LocalPlayer
local PlayerGui = Player:WaitForChild("PlayerGui")

-- روابط السكربتات (ضع روابط raw هنا)
local englishScriptURL = "https://raw.githubusercontent.com/MGEED7/G/refs/heads/main/Plants%20vs%20brainrot%20English%20version%20key%20system%20Team-ZTK.lua.txt"
local arabicScriptURL = "https://raw.githubusercontent.com/MGEED7/G/refs/heads/main/Plants%20vs%20brainrot(Arabic%2Bkey).lua.txt"

-- إزالة أي واجهات قديمة
for _, v in pairs(PlayerGui:GetChildren()) do
    if v:IsA("ScreenGui") and v.Name == "LanguageSelector" then
        v:Destroy()
    end
end

-- إنشاء GUI
local langGui = Instance.new("ScreenGui")
langGui.ResetOnSpawn = false
langGui.Name = "LanguageSelector"
langGui.Parent = PlayerGui

local frame = Instance.new("Frame")
frame.Size = UDim2.new(0, 320, 0, 200)
frame.Position = UDim2.new(0.5, -160, 0.5, -100)
frame.BackgroundColor3 = Color3.fromRGB(25, 25, 25)
frame.BorderSizePixel = 0
frame.Parent = langGui
local frameCorner = Instance.new("UICorner", frame)
frameCorner.CornerRadius = UDim.new(0, 12)

local title = Instance.new("TextLabel")
title.Size = UDim2.new(1, 0, 0, 50)
title.Position = UDim2.new(0, 0, 0, 0)
title.BackgroundTransparency = 1
title.Text = "🌐 Choose Language | اختر اللغة"
title.Font = Enum.Font.GothamBold
title.TextScaled = true
title.TextColor3 = Color3.new(1,1,1)
title.Parent = frame

-- زر الانجليزي
local englishBtn = Instance.new("TextButton")
englishBtn.Size = UDim2.new(0.8, 0, 0, 40)
englishBtn.Position = UDim2.new(0.1, 0, 0.45, 0)
englishBtn.Text = "🇬🇧 English"
englishBtn.Font = Enum.Font.GothamBold
englishBtn.TextScaled = true
englishBtn.BackgroundColor3 = Color3.fromRGB(50, 120, 200)
englishBtn.TextColor3 = Color3.new(1,1,1)
englishBtn.Parent = frame
local eCorner = Instance.new("UICorner", englishBtn)
eCorner.CornerRadius = UDim.new(0, 8)

-- زر العربي (نسخة من الانجليزي مع تعديل)
local arabicBtn = englishBtn:Clone()
arabicBtn.Parent = frame
arabicBtn.Position = UDim2.new(0.1, 0, 0.7, 0)
arabicBtn.Text = "🇸🇦 العربية"
arabicBtn.BackgroundColor3 = Color3.fromRGB(40, 160, 60)

-- دالة تحميل وتشغيل السكربت
local function loadScript(url)
    local ok, err = pcall(function()
        local source = game:HttpGet(url, true)
        local f = loadstring(source)
        f()
    end)
    if not ok then
        warn("Failed to load script:", err)
    end
end

-- دالة Tween لإخفاء الواجهة
local function hideGUI()
    local tweenInfo = TweenInfo.new(0.5, Enum.EasingStyle.Quad, Enum.EasingDirection.InOut)
    local tween = TweenService:Create(frame, tweenInfo, {Position = UDim2.new(0.5, -160, 1, 50), BackgroundTransparency = 1})
    tween:Play()
    tween.Completed:Connect(function()
        langGui:Destroy()
    end)
end

-- أحداث الضغط على الأزرار مع Tween
englishBtn.MouseButton1Click:Connect(function()
    hideGUI()
    loadScript(englishScriptURL)
end)

arabicBtn.MouseButton1Click:Connect(function()
    hideGUI()
    loadScript(arabicScriptURL)
end)
